<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="这题超纲了">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
        
            <link rel="preconnect" href="https://npm.elemecdn.com" crossorigin>
        
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/09/18/blog20/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="十年生死两茫茫，不思量，自难忘">
<meta property="og:type" content="article">
<meta property="og:title" content="C++11新特性">
<meta property="og:url" content="http://example.com/2023/09/18/blog20/index.html">
<meta property="og:site_name">
<meta property="og:description" content="十年生死两茫茫，不思量，自难忘">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-09-18T07:16:54.000Z">
<meta property="article:modified_time" content="2023-09-23T07:33:30.109Z">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">
    
    
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '');
        </script>
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/%E6%B4%BE1.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/%E6%B4%BE1.jpg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="/images/%E6%B4%BE1.jpg">
    <!--- Page Info-->
    
    <title>
        
            C++11新特性 -
        
        这题超纲了的BLOG
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/assets/fonts.css">
    <!--- Font Part-->
    
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    
        <link href="https://fonts.googleapis.com/css2?family=Farsan&display=swap" rel="stylesheet">
    

    <!--- Inject Part-->
    
        
            
    
            
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.xml"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":true,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":["铜皮","草根","柳筋","骨气","铸庐","洞府境","观海境","龙门境","金丹境","元婴境","玉璞境","仙人境","飞升境","十四境","十五境"]},"code_block":{"copy":true,"style":"mac","font":{"enable":true,"family":null,"url":"https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500;600;700&display=swap"}},"toc":{"enable":true,"max_depth":5,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":true,"title":"推荐阅读","limit":3,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#005080","secondary":null},"global":{"fonts":{"chinese":{"enable":true,"family":"Noto Sans SC","url":"https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"},"english":{"enable":true,"family":"Farsan","url":"https://fonts.googleapis.com/css2?family=Farsan&display=swap"}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":false,"scale":true},"scroll_progress":{"bar":true,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":true,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/水墨/水墨.jpg","dark":"/images/水墨/水墨1.jpg"},"title":"~欢迎来到“派大星”的博客~","subtitle":{"text":["言念君子,温其如玉","我见青山多妩媚,料青山见我应如是","有些人心如花木,皆向阳而生","遇事不决,可问春风。春风不语,即随本心","人生当苦无妨,良人当归即好"],"hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#000000","dark":"#FAFFFE"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":true,"family":"Noto Sans SC","url":"https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"},"social_links":{"enable":"enable","links":{"github":"https://github.com/Qx-GG","instagram":null,"zhihu":"https://www.zhihu.com/people/bu-shang-530bu-gai-ming","twitter":null,"email":null,"weixin":"/images/微信.jpg","bilibili":"https://space.bilibili.com/38628118?spm_id_from=333.1007.0.0"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.1.5","navbar":{"auto_hide":false,"color":{"left":"#FAFFFE","right":"#FAFFFE","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-chart-bar"},"Links":{"path":"/links","icon":"fa-regular fa-link"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/Qx-GG","Bilibili":"https://space.bilibili.com/38628118?spm_id_from=333.1007.0.0"}},"WorMhole":{"path":"https://foreverblog.cn/go.html","icon":"fa-regular fa-planet-ringed"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":"言念君子,温其如玉","links":{"PYQ":{"path":"/shuoshuo","icon":"fa-regular fa-messages"},"Photo":{"path":"/masonry","icon":"fa-regular fa-photo-film"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}}};
    Global.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    Global.data_config = {"masonry":true};
  </script>
    
    <!--- Fontawesome Part-->
    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/fontawesome/brands.min.css">
    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/fontawesome/solid.min.css">
    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/fontawesome/regular.min.css">
    
    
    
        <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/fontawesome/duotone.min.css">
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="null" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/%E6%B4%BE1.jpg">
                </a>
            
            <a class="logo-title" href="/">
                
                这题超纲了的BLOG
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-archive"></i>
                                        
                                        归档
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/tags"  >
                                    
                                        
                                            <i class="fa-regular fa-chart-bar"></i>
                                        
                                        标签
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/links"  >
                                    
                                        
                                            <i class="fa-regular fa-link"></i>
                                        
                                        链接
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown" 
                                    href="#" onClick="return false;">
                                    
                                        
                                            <i class="fa-regular fa-user"></i>
                                        
                                        关于&nbsp;<i class="fa-solid fa-chevron-down"></i>
                                    
                                </a>
                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                    
                                        <li>
                                        <a href="/about">ME
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://github.com/Qx-GG">GITHUB
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://space.bilibili.com/38628118?spm_id_from=333.1007.0.0">BILIBILI
                                        </a>
                                        </li>
                                    
                                    </ul>
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    target="_blank" rel="noopener" href="https://foreverblog.cn/go.html"  >
                                    
                                        
                                            <i class="fa-regular fa-planet-ringed"></i>
                                        
                                        WORMHOLE
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-archive"></i>
                                
                                归档
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/tags"  >
                             
                                
                                    <i class="fa-regular fa-chart-bar"></i>
                                
                                标签
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/links"  >
                             
                                
                                    <i class="fa-regular fa-link"></i>
                                
                                链接
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="has-dropdown" 
                        href="#" onClick="return false;">
                            
                                
                                    <i class="fa-regular fa-user"></i>
                                
                                关于&nbsp;<i class="fa-solid fa-chevron-down"></i>
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                              
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" href="/about">ME</a>
                            </li>
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://github.com/Qx-GG">GITHUB</a>
                            </li>
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://space.bilibili.com/38628118?spm_id_from=333.1007.0.0">BILIBILI</a>
                            </li>
                        
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        target="_blank" rel="noopener" href="https://foreverblog.cn/go.html"  >
                             
                                
                                    <i class="fa-regular fa-planet-ringed"></i>
                                
                                WORMHOLE
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
                      
                <div class="article-title">
                    <img src="https://Qx-GG.github.io/images/水墨/水墨21.jpg" alt="C++11新特性" />
                    <h1 class="article-title-cover">C++11新特性</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/%E6%B4%BE%E5%A4%A7%E6%98%9F.png">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">这题超纲了</span>
                            
                                <span class="author-label">柳筋</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-09-18 15:16:54</span>
        <span class="mobile">2023-09-18 15:16</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-09-23 15:33:30</span>
            <span class="mobile">2023-09-23 15:33</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/C/">C++</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/C/">C++</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>3.2k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>12 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=1456890009&auto=1&height=66"></iframe>

<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天这篇文章学习一下C++11的一些新特性，毕竟这也是面试过程中经常会问的，开搞!</p>
<h2 id="类型推导"><a href="#类型推导" class="headerlink" title="类型推导"></a>类型推导</h2><p>顾名思义，C++11引入了<strong>类型推导</strong>关键字，分别为<strong>auto</strong>和<strong>decltype</strong>,这些关键字可以在代码<strong>编译</strong>阶段自动推导出<strong>变量</strong>或者<strong>表达式</strong>的类型</p>
<details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>auto </summary>
              <div class="content">
              <p>使用auto可以让编译器自动去推导<strong>变量</strong>的类型，例如:</p><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> a=<span class="number">10</span>;  <span class="comment">//自动推导出a是int类型</span></span><br><span class="line"><span class="keyword">auto</span> b=<span class="number">3.14159</span>; <span class="comment">//自动推导出b是double类型</span></span><br><span class="line"><span class="keyword">auto</span> c=hashmap.<span class="built_in">find</span>(target);    <span class="comment">//自动推导出c是哈希表容器中的指向target的迭代器</span></span><br><span class="line"><span class="type">int</span> i=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">auto</span> &amp;d=i; <span class="comment">//自动推导出d是i的引用</span></span><br></pre></td></tr></table></figure></div><p>当然，auto的使用也有一定的规则:</p><ol><li>auto使用必须初始化，(auto it;) 这样是错误的</li><li>(auto a&#x3D;1,b&#x3D;1.0;)这样也是错误的，因为编译器有二义性，所以没法推导具体是哪个类型</li><li>auto不能作为函数形参,(void Func(auto it))这样也是错误的</li><li>在类中，auto不能用作<strong>非静态成员变量</strong></li><li>auto不能用来定义数组,(auto nums[10])这样也是不允许的</li><li>auto没办法推导出模板参数，例如(vector<auto> nums)</auto></li></ol><p>还有一些auto的一些特性:</p><ol><li>如果auto不被申明为指针或者引用的时候，编译器会自动<strong>忽略</strong>等号右边的引用类型和CV属性</li><li>在声明为引用或者指针时，auto会<strong>保留</strong>等号右边的引用和cv属性<br><code>CV:const和volatile</code></li></ol><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">auto</span> *a = &amp;i; <span class="comment">// a是int*</span></span><br><span class="line"><span class="keyword">auto</span> &amp;b = i; <span class="comment">// b是int&amp;</span></span><br><span class="line"><span class="keyword">auto</span> c = b; <span class="comment">// c是int，忽略了引用</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> d = i; <span class="comment">// d是const int</span></span><br><span class="line"><span class="keyword">auto</span> e = d; <span class="comment">// e是int</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span>&amp; f = e; <span class="comment">// f是const int&amp;</span></span><br><span class="line"><span class="keyword">auto</span> &amp;g = f; <span class="comment">// g是const int&amp;</span></span><br></pre></td></tr></table></figure></div>
              </div>
            </details>

<details class="blue" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>decltype </summary>
              <div class="content">
              <p>decltype与auto不同在于它是用来推导表达式类型的，例如:</p><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> i=<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">decltype</span>(i) b=<span class="number">100</span>;  <span class="comment">//b是const i类型</span></span><br><span class="line"><span class="keyword">decltype</span>(a) c=<span class="number">20</span>;   <span class="comment">//c是int类型</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Func</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">decltype</span>((Func)) d; <span class="comment">//i是int类型</span></span><br><span class="line"><span class="keyword">decltype</span>(a+c) e;    <span class="comment">//e是int类型</span></span><br></pre></td></tr></table></figure></div><p><code>decltype类型只会进行表达式的类型推导，并不会对表达式进行运算</code></p><p>decltype(temp)的使用规则:</p><ol><li>temp如果是表达式，则decltype(temp)和temp的类型相同</li><li>temp如果是函数调用，则decltype(temp)和函数的返回值相同</li><li>如果temp为一个左值，则decltype(temp)为左值引用<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=<span class="number">10</span>,b=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">decltype</span>(a+b) i=<span class="number">10</span>;    <span class="comment">//返回int,因为a+b是一个右值</span></span><br><span class="line"><span class="keyword">decltype</span>(a+=b) c=<span class="number">10</span>;    <span class="comment">//返回int&amp;,因为a+=b是一个左值</span></span><br></pre></td></tr></table></figure></div><code>与auto不同，decltype会保留表达式的引用和CV属性</code><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> &amp;i=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">decltype</span>(i) a=<span class="number">20</span>;   <span class="comment">//a的类型为const int&amp;</span></span><br></pre></td></tr></table></figure></div></li></ol>
              </div>
            </details>

<details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>auto和decltype的配合使用 </summary>
              <div class="content">
              <div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">template</span>(<span class="keyword">typename</span> U,<span class="keyword">typename</span> V)</span><br><span class="line"><span class="function">return_value <span class="title">Func</span><span class="params">(U u,V v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> u+v;</span><br><span class="line">&#125;</span><br><span class="line">在上面的函数模板里面，我们不知道u和v的类型，所以没办法推导出u+v的类型，也就没办法写出return_value的类型</span><br><span class="line"></span><br><span class="line"><span class="built_in">template</span>(<span class="keyword">typename</span> U,<span class="keyword">typename</span> V)</span><br><span class="line"><span class="keyword">decltype</span>(u+v) <span class="built_in">Func</span>(U u,V v)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> u+v;</span><br><span class="line">&#125;</span><br><span class="line">这样写也是不对的，因为U和V并没有定义，所以没法这样使用<span class="function"><span class="keyword">decltype</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">Fund</span><span class="params">(U u,V v)</span>-&gt;<span class="title">decltype</span><span class="params">(u+v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> u+v;</span><br><span class="line">&#125;</span><br><span class="line">这样是可以的，这也是C++<span class="number">11</span>里面的返回值后置语法，就是为了解决函数返回值依赖于参数但却难以确定返回值类型的问题</span><br></pre></td></tr></table></figure></div>
              </div>
            </details>

<h2 id="左值和右值"><a href="#左值和右值" class="headerlink" title="左值和右值"></a>左值和右值</h2><p>我们先看一下下面这行代码</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=<span class="number">10</span>;</span><br></pre></td></tr></table></figure></div>
<p>这是一个在普通不过的定义变量的代码，但是在C++11中，这里面就多了两个叫做<strong>左值</strong>和<strong>右值</strong>的东西</p>
<details class="green" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>左值 </summary>
              <div class="content">
              <p>顾名思义，能够放在<strong>等号左边</strong>的值就是<strong>左值</strong>,可以取地址并且有名字的东西就是左值</p>
              </div>
            </details>

<details class="green" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>右值 </summary>
              <div class="content">
              <p>顾名思义，能够放在<strong>等号右边</strong>的值就是<strong>右值</strong>,不能取地址的没有名字的东西就是右值</p>
              </div>
            </details>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=b+c;  <span class="comment">//a就是左值，b和c就是右值</span></span><br><span class="line"><span class="type">int</span> a=<span class="number">10</span>;   <span class="comment">//a就是左值，10就是右值</span></span><br></pre></td></tr></table></figure></div>
<h3 id="左值和右值的区别"><a href="#左值和右值的区别" class="headerlink" title="左值和右值的区别"></a>左值和右值的区别</h3><p>左值是<strong>有名字</strong>，<strong>有地址</strong>的，可以<strong>放在等号左边</strong>的，而右值没有名字且不能取地址，而且也不能放到等号左边</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=b+c;</span><br><span class="line">&amp;(b+c)  <span class="comment">//错误，因为(b+c)表达式返回的是一个右值，没有地址也没有名字</span></span><br></pre></td></tr></table></figure></div>

<p>左值一般有:</p>
<ol>
<li>函数名和变量名</li>
<li>返回<strong>左值引用</strong>的函数调用</li>
<li><strong>前置</strong>的自增自减表达式，如:++i,–i<br><code>后置的自增自减表达式为右值</code></li>
<li>由<strong>赋值表达式</strong>或<strong>赋值运算符连接的表达式</strong>(a&#x3D;b, a +&#x3D; b等)</li>
<li>解引用表达式 *p</li>
</ol>
<h3 id="纯右值和将亡值"><a href="#纯右值和将亡值" class="headerlink" title="纯右值和将亡值"></a>纯右值和将亡值</h3><p>纯右值和将亡值都属于右值</p>
<div class="tabs" id="tab-first-tabs"><ul class="nav-tabs"><li class="tab active"><a class="#first-tabs-1">纯右值</a></li><li class="tab"><a class="#first-tabs-2">将亡值</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-tabs-1"><p>运算表达式产生的临时变量、不和对象关联的原始字面量、非引用返回的临时变量、lambda表达式等都是纯右值，例如:</p>
<ol>
<li>除字符串字面值外的字面值</li>
<li>返回<strong>非引用</strong>类型的函数调用</li>
<li>后置自增自减表达式i++、i–</li>
<li>算术表达式(a+b, a*b, a&amp;&amp;b, a&#x3D;&#x3D;b等)</li>
<li>取地址表达式等(&amp;a)</li>
</ol></div><div class="tab-pane" id="first-tabs-2"><p>将亡值是指C++11新增的和<strong>右值引用</strong>相关的表达式，通常指将要被移动的对象、T&amp;&amp;函数的返回值、std::move函数的返回值、转换为T&amp;&amp;类型转换函数的返回值，将亡值可以理解为<strong>即将要销毁的值</strong>，通过“盗取”其它变量内存空间方式获取的值，在确保其它变量不再被使用或者即将被销毁时，可以避免内存空间的释放和分配，延长变量值的生命周期，常用来完成移动构造或者移动赋值的特殊任务</p></div></div></div>

<h3 id="左值引用和右值引用"><a href="#左值引用和右值引用" class="headerlink" title="左值引用和右值引用"></a>左值引用和右值引用</h3><p>左值引用就是<strong>对左值的引用</strong>，右值引用就是<strong>对右值的引用</strong>，都是引用，所以它们都只是变量的一个别名，并不拥有所绑定的对象的堆存，所以<strong>必须立马初始化</strong></p>
<details class="green" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>左值引用 </summary>
              <div class="content">
              <div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=<span class="number">10</span>;   <span class="comment">//a是左值</span></span><br><span class="line"><span class="type">int</span> &amp;b=a;   <span class="comment">//b就是左值引用</span></span><br><span class="line"><span class="type">int</span> &amp;c=<span class="number">10</span>;  <span class="comment">//错误，因为10为右值，无法取地址，所以无法进行引用</span></span><br><span class="line"><span class="type">int</span> &amp;c;     <span class="comment">//错误，引用必须初始化</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> &amp;d=<span class="number">10</span>;    <span class="comment">//成功，因为是常引用，引用常量数字，这个常量数字会存储在内存中，所以可以去地址</span></span><br></pre></td></tr></table></figure></div><p>如上可知:</p><ol><li>左值引用必须满足等号右边的变量可以取地址</li><li>如果为常量引用，是可以的，但是这样做的话就无法对常量引用进行修改操作，因为已经定义为const了，例如上面代码中如果对d进行修改(d&#x3D;20;)就会报错</li></ol>
              </div>
            </details>

<details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>右值引用 </summary>
              <div class="content">
              <div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">右值引用的一般为:</span><br><span class="line">    type &amp;&amp;name=exp;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>;   <span class="comment">//a是左值</span></span><br><span class="line">    <span class="type">int</span> &amp;&amp;b=a;  <span class="comment">//错误，因为a是左值</span></span><br><span class="line">    <span class="type">int</span> &amp;&amp;b=<span class="number">10</span>; <span class="comment">//正确</span></span><br><span class="line">    <span class="type">int</span> &amp;&amp;b=std::<span class="built_in">move</span>(a);   <span class="comment">//正确，通过移动语义，可以实现右值引用左值</span></span><br><span class="line">    <span class="type">int</span> &amp;&amp;c;    <span class="comment">//错误，右值引用也是引用，必须进行初始化</span></span><br></pre></td></tr></table></figure></div><p><strong>绑定右值的右值引用，其变量本身是个左值</strong></p><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">(<span class="type">int</span>&amp; a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;左值&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">(<span class="type">int</span>&amp;&amp; a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;右值&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>&amp;&amp; a=<span class="number">10</span>;</span><br><span class="line">    <span class="built_in">Func</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出:左值</span></span><br></pre></td></tr></table></figure></div>
              </div>
            </details>

<details class="blue" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>为什么要有右值引用？ </summary>
              <div class="content">
              <p>首先，我们都知道，函数传参的时候可以通过<strong>指针</strong>或者<strong>引用</strong>进行值传递，而相对于用指针传递，引用传递可以<strong>减少一次拷贝</strong>，可以直接对引用的对象进行操作，在这种情况下我们使用的都是<strong>左值引用</strong>，一般分为两种:</p><ol><li>int Func(int&amp; a);</li><li>int&amp; Func();<br>但是第二种会出现一个问题，那就是如果返回的是函数体内的一个临时变量怎么办？<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span>&amp; <span class="title">Func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">这里就会出现问题了，因为a是在函数体内被临时创建的，会在栈上创建，等到函数结束，就会销毁a，那样返回对a的引用的话就会出现问题，因为内存中已经没有a地址了</span><br></pre></td></tr></table></figure></div>而解决这种问题，我们就能通过<strong>右值引用</strong>，当函数的返回值为一个<strong>右值引用</strong>的话，会将返回的临时变量中的内存<strong>占为己有</strong>，仍然保持了有效性并且避免了拷贝</li></ol><p>那么，如何返回一个右值引用呢？这里就涉及到了<strong>右值引用</strong>的一些应用</p>
              </div>
            </details>

<h3 id="右值引用的应用"><a href="#右值引用的应用" class="headerlink" title="右值引用的应用"></a>右值引用的应用</h3><details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>移动语义 </summary>
              <div class="content">
              <p>首先说一下<strong>移动</strong>和<strong>拷贝</strong>的区别:</p><ol><li>拷贝分为两种,<strong>浅拷贝</strong>和<strong>深拷贝</strong>，差别在于对于是否对新创建的对象有一块新的地址内存</li><li>深拷贝会涉及到数据从一块内存被复制到一块新的内存，浅拷贝又会有问题</li><li><strong>移动</strong>简单来说就是将数据从旧的内存<strong>移动</strong>到新的内存，原本旧的内存就不会有数据了，使用<strong>移动</strong>而不使用<strong>拷贝</strong>的是因为可以避免频繁拷贝而造成的开销</li><li>例如当我们使用vector的push_back()的时候，如果对同一个对象多次push_back(),我们只是希望能够将参数传进去就可以，但是编译器是会拷贝参数对象，然后传入，这样内存中就会有两份一样的参数，而如果使用移动语义的话，就可以避免拷贝的开销，直接将数据进行移动</li><li>在C++11之前，当进行值传递时，编译器会隐式调用拷贝构造函数；自C++11起，通过右值引用来避免由于拷贝调用而导致的性能损失<br><code>std::move()</code>是可以实现<strong>移动</strong>的一个方法<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">std::<span class="built_in">move</span>()的源码</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _Tp&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">typename</span> std::remove_reference&lt;_Tp&gt;:: <span class="function">type&amp;&amp; <span class="title">move</span><span class="params">(_Tp&amp;&amp; <span class="type">__t</span>)</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;<span class="keyword">typename</span> std::remove_reference&lt;_Tp&gt;::type&amp;&amp;&gt;(<span class="type">__t</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">本质还是做了一个类型转换:</span></span><br><span class="line"><span class="comment">如果传递的是左值，则推导为左值引用，然后由static_cast转换为右值引用</span></span><br><span class="line"><span class="comment">如果传递的是右值，则推导为右值引用，然后static_cast转换为右值引用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">如果使用了move，就意味着:</span><br><span class="line"><span class="number">1.</span> 原来的对象将不再被使用，如果对其使用就会造成不可预计的错误</span><br><span class="line"><span class="number">2.</span> 所有权转移，资源的所有权被转移给新的对象</span><br></pre></td></tr></table></figure></div><details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>移动构造函数和移动赋值操作符 </summary>           <div class="content">           <p>移动构造函数和拷贝构造函数一样，将对象的实例作为其参数，并从原始对象创建一个新的实例。但是，<code>移动构造函数可以避免内存重新分配</code>，这是因为移动构造函数的参数是一个右值引用，也可以说是一个<strong>临时对象</strong>，而临时对象在调用之后就被销毁不再被使用，因此，在移动构造函数中对参数进行移动而不是拷贝</p><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BigObj</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">BigObj</span><span class="params">(<span class="type">size_t</span> length)</span></span></span><br><span class="line"><span class="function">        : length_(length), data_(new int[length]) &#123;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    ~<span class="built_in">BigObj</span>() &#123;</span><br><span class="line">     <span class="keyword">if</span> (data_ != <span class="literal">NULL</span>) &#123;</span><br><span class="line">       <span class="keyword">delete</span>[] data_;</span><br><span class="line">        length_ = <span class="number">0</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拷贝构造函数</span></span><br><span class="line">    <span class="built_in">BigObj</span>(<span class="type">const</span> BigObj&amp; other)</span><br><span class="line">     : <span class="built_in">length_</span>(other.length_), <span class="built_in">data</span>(<span class="keyword">new</span> <span class="type">int</span>[other.length_]) &#123;</span><br><span class="line">   std::<span class="built_in">copy</span>(other.mData, other.mData + mLength, mData);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 赋值运算符</span></span><br><span class="line">    BigObj&amp; <span class="keyword">operator</span>=(<span class="type">const</span> BigObj&amp; other) &#123;</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span> != &amp;other;) &#123;</span><br><span class="line">      <span class="keyword">delete</span>[] data_;  </span><br><span class="line">      length_ = other.length_;</span><br><span class="line">        data_ = <span class="keyword">new</span> <span class="type">int</span>[length_];</span><br><span class="line">        std::<span class="built_in">copy</span>(other.data_, other.data_ + length_, data_);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移动构造函数</span></span><br><span class="line">    <span class="built_in">BigObj</span>(BigObj&amp;&amp; other) : <span class="built_in">data_</span>(<span class="literal">nullptr</span>), <span class="built_in">length_</span>(<span class="number">0</span>) &#123;</span><br><span class="line">        data_ = other.data_;</span><br><span class="line">        length_ = other.length_;</span><br><span class="line"></span><br><span class="line">        other.data_ = <span class="literal">nullptr</span>;</span><br><span class="line">        other.length_ = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//这里可以看到，代码中并没有分配任何新的资源，也不会复制其他的资源，因为采用右值引用作为形参，所以我们可以理解为代码中直接让data_等于一个已经存在于内存中的值，而这个值就是other.data_,这样就不需要像拷贝构造函数一样，需要对other.data_进行一个复制然后在传给data_</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移动赋值运算符</span></span><br><span class="line">    BigObj&amp; <span class="keyword">operator</span>=(BigObj&amp;&amp; other) &#123;  </span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span> != &amp;other;) &#123;</span><br><span class="line">          <span class="keyword">delete</span>[] data_;</span><br><span class="line"></span><br><span class="line">          data_ = other.data_;</span><br><span class="line">          length_ = other.length_;</span><br><span class="line"></span><br><span class="line">          other.data_ = <span class="literal">NULL</span>;</span><br><span class="line">          other.length_ = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">size_t</span> length_;</span><br><span class="line">    <span class="type">int</span>* data_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   std::vector&lt;BigObj&gt; v;</span><br><span class="line">   v.<span class="built_in">push_back</span>(<span class="built_in">BigObj</span>(<span class="number">25</span>));     <span class="comment">//调用的是vector中push_back(&amp;&amp;)</span></span><br><span class="line">   v.<span class="built_in">push_back</span>(<span class="built_in">BigObj</span>(<span class="number">75</span>));</span><br><span class="line">   <span class="function">BigObj <span class="title">boj</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line">   v.<span class="built_in">push_back</span>(boj);            <span class="comment">//调用的是push_back(&amp;),因为obj是一个左值</span></span><br><span class="line">   v.<span class="built_in">push_back</span>(std::<span class="built_in">move</span>(boj)); <span class="comment">//调用的是push_back(&amp;&amp;)，因为通过move将左值转化为一个右值引用，前提是BigObj类中定义了移动语义</span></span><br><span class="line">   v.<span class="built_in">insert</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>, <span class="built_in">BigObj</span>(<span class="number">50</span>));</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>           </div>         </details></li></ol>
              </div>
            </details>
<details class="red" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>完美转发 </summary>
              <div class="content">
              <p>看不懂这个</p>
              </div>
            </details>
            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> C++11新特性</li>
        <li><strong>作者:</strong> 这题超纲了</li>
        <li><strong>创建于:</strong> 2023-09-18 15:16:54</li>
        
            <li>
                <strong>更新于:</strong> 2023-09-23 15:33:30
            </li>
        
        <li>
            <strong>链接:</strong> https://qx-gg.github.io/2023/09/18/blog20/
        </li>
        <li>
            <strong>版权声明:</strong> 本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> 进行许可。
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/C/">#C++</a>&nbsp;
                        </li>
                    
                </ul>
            

            <div class="recommended-article">
  <div class="recommended-article-header">
    <i aria-hidden="true"></i><span>推荐阅读</span>
  </div>
  <div class="recommended-article-group"><a class="recommended-article-item" href="/2023/02/24/blog2/" title="Linux下的“库”和“链接”" rel="bookmark">
  <img src="https://Qx-GG.github.io/images/水墨/水墨3.jpg" alt="Linux下的“库”和“链接”">
  <span class="title">Linux下的“库”和“链接”</span>
</a><a class="recommended-article-item" href="/2023/02/24/blog5/" title="浙江宇视科技一面" rel="bookmark">
  <img src="https://Qx-GG.github.io/images/水墨/水墨6.jpg" alt="浙江宇视科技一面">
  <span class="title">浙江宇视科技一面</span>
</a><a class="recommended-article-item" href="/2023/02/28/blog8/" title="C++的继承、封装和多态" rel="bookmark">
  <img src="https://Qx-GG.github.io/images/水墨/水墨9.jpg" alt="C++的继承、封装和多态">
  <span class="title">C++的继承、封装和多态</span>
</a></div>
</div>

            
                <div class="article-nav">
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/09/10/blog19/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">IO多路复用</span>
                                    <span class="post-nav-item">下一篇</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;评论
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://waline-qin.6eek.net',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">C++11新特性</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC"><span class="nav-text">类型推导</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC"><span class="nav-text">左值和右值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">左值和右值的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%AF%E5%8F%B3%E5%80%BC%E5%92%8C%E5%B0%86%E4%BA%A1%E5%80%BC"><span class="nav-text">纯右值和将亡值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%92%8C%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8"><span class="nav-text">左值引用和右值引用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">右值引用的应用</span></a></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2023</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">这题超纲了</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a> 驱动</span>
                <br>
            <span class="theme-version-container">主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.1.5</a>
        </div>
        
        
        
            <div id="start_div" style="display:none">
                2023/2/23 15:15:11
            </div>
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
            <div class="customize-info info-item">和我一起去充满橘子味的村庄叭</div>
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
            
                
        
                
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>



<script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/utils.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/main.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/layouts/navbarShrink.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/scrollTopBottom.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/lightDarkSwitch.js"></script>


    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/localSearch.js"></script>



    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/codeBlock.js"></script>



    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/layouts/lazyload.js"></script>



    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/runtime.js"></script>
    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/libs/odometer.min.js"></script>
    <link rel="stylesheet" href="//npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/assets/odometer-theme-minimal.css">



  <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/libs/Typed.min.js"></script>
  <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/plugins/typed.js"></script>





    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/libs/minimasonry.min.js"></script>
    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/plugins/masonry.js"></script>


<div class="post-scripts pjax">
    
        <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/tools/tocToggle.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/libs/anime.min.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/layouts/toc.js"></script><script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/plugins/tabs.js"></script>
    
</div>


    <script src="https://npm.elemecdn.com/hexo-theme-redefine@2.1.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
